var jqueryAdapter=function(t){var e=function(t,e){var n={},r=t.getAllResponseHeaders().split("\r\n");return $.each(r,function(t,e){var r=e.split(": ");r[0]&&(n[r[0].toLowerCase()]=r[1])}),{status:t.status,statusText:t.statusText,headers:n,data:e}};this.doMethod=function(n,r,u,a){var s=$.Deferred(),i=$.extend({},t._defaultHeaders,a);return $.ajax({url:r,type:n,dataType:"GET"==n?null:"json",contentType:"GET"==n?null:"application/json",headers:i,data:"undefined"!=typeof u&&null!==u?"GET"==n?u:JSON.stringify(u):null}).done(function(t,n,r){r.status>=200&&r.status<300?s.resolve(t,e(r,t)):s.reject(e(r))}),s.promise()}},Restiny=function(t,e,n){function r(t){return s.test(t)}function u(t){return t=t||"",r(t)?t:i._url+"/"+t}function a(t,e,n,r){return i._adapter.doMethod(t,u(e),n,r)}var s=/^https?:\/\//i,i=this,n=n||jqueryAdapter;this._config=e||{},this._adapter=new n(this),this._defaultHeaders=this._config.headers||{},this._url=t,this.get=function(t,e,n){return a("GET",t,e,n)},this.post=function(t,e,n){return a("POST",t,e,n)},this.put=function(t,e,n){return a("PUT",t,e,n)},this.patch=function(t,e,n){return a("PATCH",t,e,n)},this.delete=function(t,e){return a("DELETE",t,null,e)}};angular?angular.module("restiny",[]).factory("restiny",["$http","$q",function(t,e){var n=function(n){this.doMethod=function(r,u,a,s){var i=e.defer(),o=angular.extend({},n._defaultHeaders,s),d="get"==r.toLowerCase();return t({method:r,url:u,headers:o,data:d?null:a,params:d?a:null}).then(function(t){i.resolve(t)},function(t){i.reject(t)}),i.promise}};return{api:function(t,e){return new Restiny(t,e,n)}}}]):null;